#pragma once

#include "types/Position.h"
#include "types/Types.h"

#include <array>
#include <functional>
#include <unordered_map>

namespace Game3 {
	constexpr std::array<int, 256> marchingArray8{
		34, 11, 23, 11, 11, 11, 11, 11, 33, 11, 38, 22, 11, 11, 11, 11,
		31, 11, 35, 11, 11, 11, 20, 11, 32, 11, 39, 36, 11, 11, 37, 21,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		 3, 11, 13, 11, 11, 11, 11, 11,  7, 11, 45, 17, 11, 11, 11, 11,
		 4, 11, 42, 11, 11, 11, 14, 11,  8, 11, 46, 41, 11, 11, 40, 18,
		11, 11, 11, 11, 11, 11, 11, 11,  2, 11, 27, 12, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11,  5, 11, 30, 43, 11, 11, 19, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		 0, 11, 24, 11, 11, 11, 10, 11,  6, 11, 29,  9, 11, 11, 44, 16,
		11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11,
		11, 11, 11, 11, 11, 11, 11, 11,  1, 11, 28, 25, 11, 11, 26, 11,
	};

	constexpr std::array<int, 16> marchingArray4{22, 17, 6, 16, 4, 14, 1, 26, 3, 7, 2, 20, 0, 18, 12, 19};

	TileID march8(const std::function<bool(int8_t, int8_t)> &);
	TileID march4(const std::function<bool(int8_t, int8_t)> &);
}
